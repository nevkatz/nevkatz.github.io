<!DOCTYPE html>
<html lang="en"><!-- http://jovandeginste.github.io/2016/05/18/add-metadata-tags-to-jekyll-blog-posts.html   -->
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146443473-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-146443473-1');
</script>
<script data-ad-client="ca-pub-9580495616409314" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:url" content="/2021/03/12/drupal-migration-takeaways.html" />
  
  <meta itemprop="keywords" content="web,database">
  

  
  <meta itemprop="tags" content="web,database">
  <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>12 Tips for Drupal Database Migrations | Nevin Katz</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="12 Tips for Drupal Database Migrations" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Migrating from Drupal 7 to Drupal 8 or 9" />
<meta property="og:description" content="Migrating from Drupal 7 to Drupal 8 or 9" />
<link rel="canonical" href="/2021/03/12/drupal-migration-takeaways.html" />
<meta property="og:url" content="/2021/03/12/drupal-migration-takeaways.html" />
<meta property="og:site_name" content="Nevin Katz" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-12T00:00:00-05:00" />
<script type="application/ld+json">
{"headline":"12 Tips for Drupal Database Migrations","dateModified":"2021-03-12T00:00:00-05:00","datePublished":"2021-03-12T00:00:00-05:00","url":"/2021/03/12/drupal-migration-takeaways.html","mainEntityOfPage":{"@type":"WebPage","@id":"/2021/03/12/drupal-migration-takeaways.html"},"description":"Migrating from Drupal 7 to Drupal 8 or 9","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- this is where the CSS is. -->
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/prism.css">
  <link rel="stylesheet" href="/assets/css/styles.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Nevin Katz" /></head>
<body data-title="12 Tips for Drupal Database Migrations" ><header class="site-header" role="banner">

  <div class="wrapper"><div id="header-logo">
    <a class="site-title" rel="author" href="/">
      Nevin Katz
    </a>
    <a class="site-subtitle" rel="title" href="/">
      Web &amp; App Developer</a>
    </div><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <!--<a class="page-link" href="/404.html">Page Not Found</a><a class="page-link" href="/about/">About</a><a class="page-link" href="/tag/animation/">Animation</a><a class="page-link" href="/tag/arrays/">Arrays</a><a class="page-link" href="/tag/async/">Async Requests</a><a class="page-link" href="/tag/cli/">cli (Command Line Interface)</a><a class="page-link" href="/tag/cms/">CMS (Content Management System)</a><a class="page-link" href="/tag/comics/">Comics</a><a class="page-link" href="/tag/css-grid/">CSS Grid</a><a class="page-link" href="/tag/css-styles/">CSS</a><a class="page-link" href="/tag/database/">Database</a><a class="page-link" href="/tag/docs/">Documentation</a><a class="page-link" href="/tag/drupal-cms/">Drupal CMS</a><a class="page-link" href="/tag/edtech/">CSS Grid</a><a class="page-link" href="/tag/flexbox/">Flexbox</a><a class="page-link" href="/tag/html/">HTML</a><a class="page-link" href="/tag/images/">Images</a><a class="page-link" href="/tag/io/">I/O (Input / Output)</a><a class="page-link" href="/tag/mobile/">Mobile</a><a class="page-link" href="/project-management/">Project Management</a><a class="page-link" href="/tag/qa/">QA (Quality Assurance)</a><a class="page-link" href="/tag/static/">Static</a><a class="page-link" href="/tag/themes/">Themes</a><a class="page-link" href="/tag/web/">Web</a><a class="page-link" href="/index.html">Nevin Katz</a><a class="page-link" href="/index.html">Nevin Katz</a>-->
           <div id="top-nav"><a class="page-link" href="/about">About</a></div>
           <div id="search-container">
                 <input type="text" id="search-input" placeholder="Search">
                 <!-- search results container - maybe put elsewhere -->
           </div>
        </div>
      </nav></div>
  <div class="category-nav" id="top-category-nav">
        <ul>
          <li><a class="css" href="/category/css">CSS</a></li>
          <li><a class="css" href="/category/svg">SVG</a></li>
          <li><a class="javascript" href="/category/javascript">Javascript</a></li>
          <li><a class="vue" href="/category/vue">Vue</a></li>
          <li><a class="nodejs" href="/category/nodejs">Node JS</a></li>
          <li><a class="drupal" href="/category/drupal">Drupal</a></li>
        </ul>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <ul id="results-container"></ul>

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">12 Tips for Drupal Database Migrations</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-03-12T00:00:00-05:00" itemprop="datePublished">Mar 12, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h3 id="migrating-from-drupal-7-to-drupal-8-or-9">Migrating from Drupal 7 to Drupal 8 or 9</h3>

<p>With Drupal 7 losing support in November 2022, you may be looking to migrate a Drupal 7 site to Drupal 8 or 9 some time soon. If so, here are a few tips I gleaned from migrating my Drupal 7 site’s database to Drupal 9,</p>

<ol>
  <li>
    <p><strong>Study the documentation.</strong> To prepare, I used these <a href="https://www.drupal.org/docs/upgrading-drupal/upgrade-using-web-browser" target="_blank">Drupal migration docs</a> as a guide. They provided a helpful walkthrough of the process and screenshots of the key stages.</p>
  </li>
  <li>
    <p><strong>In most cases, migrate directly to Drupal 9.</strong> Because Drupal 8 loses support in November 2021, you will not be able to stay with it for long. And Drupal 9 is very similar to Drupal 8 - just more streamlined without the deprecated modules and APIs that some Drupal 8 sites may allow. While migrating from 8 to 9 is less of a challenge than migrating from 7 to 8, it can still be arduous if you end up migrating from D7 to D8 and end up using some deprecated modules or APIs.   So migrating directly to 9 can save you a second upgrade.</p>
  </li>
  <li>
    <p><strong>Try migrating locally with Lando.</strong> <a href="https://lando.dev/" target="_blank">Lando</a> is a free command-line tool for setting a range of dev environments that uses <a href="https://www.docker.com/" target="_blank">Docker</a> as its container. It sets up your settings.php file automatically with initial username, password, and database name that are easy to remember and find using either <code>lando info</code> or docker. I set up both my D7 and D9 sites with Lando, and once I used the command <code>lando info</code> to grab the hostname and database credentials, connecting my D9 site to the D7 site went off without a hitch.</p>
  </li>
  <li>
    <p><strong>Use Git to version control your work.</strong> I have both my old and new site wired to a Git repository, and use a .gitignore file to block out the usual files that I don’t want my local and remote sites to share. For me, these include <code>settings.php</code>, the <code>files</code> directory, and the <code>.DS_Store</code> files that auto populate on a Mac.</p>
  </li>
  <li>
    <p><strong>Become familiar with Drupal 9’s environment requirements.</strong> For instance, you’ll see from these <a href="https://www.drupal.org/docs/understanding-drupal/how-drupal-9-was-made-and-what-is-included/environment-requirements-of" target="_blank">Drupal docs</a> that Drupal requires PHP 7.3 and Apache 2.4.7. Lando will configure your PHP automatically, but other local setup tools may not.</p>
  </li>
  <li>
    <p><strong>Use the Drupal 9 migration modules.</strong> On Drupal 9’s <strong>Extend</strong> panel, turn on all the Migration modules: Migrate, Migrate Drupal, and Migrate UI. 
 Once they are on, go to <code>sitename/upgrade</code> to get started.</p>
  </li>
  <li>
    <p><strong>Use a fresh Drupal 9 database with no content or configuration.</strong> Don’t add any content or content types, and don’t try to configure anything. Only turn on the modules you think you’ll need. Besides enabling the migration modules, I also turned on Entity module.</p>
  </li>
  <li>
    <p><strong>Only enable stable Drupal 9 modules.</strong> Be wary of turning on D9 alpha or beta modules before the migration. You can ensure that you only download stable modules by keeping your <code>composer.json</code> minimum version set to <code>stable</code>. If you choose to download  alpha or beta releases, you’ll want to keep them off before the migration as they could adversely affect your site’s database.</p>
  </li>
  <li>
    <p><strong>Turn off as many D7 modules as you can that will not be upgraded.</strong> After you connect to your D7 database, you will be provided with a list of D7 modules that will not be upgraded. Once you see the list, you may want to go back and restart the migration with these D7 modules turned off. While it is best to either turn these modules off, some of them, like the video module, can be stubborn about being disabled. For these, I deleting the associated fields or other site assets may help you to prevent migration errors.</p>
  </li>
  <li>
    <p><strong>Make database backups frequently.</strong> As you prepare your D7 and D9 sites, make database backups so that you can keep snapshots of your progress, which will allow you to roll back your site if necessary. If you are using Lando, you can do this using <code>lando db-export &lt;databasepath&gt;</code> while at the root of your site.</p>
  </li>
  <li>
    <p><strong>Develop strategies for content that may not automatically move over.</strong> For me, this included content handled by the <strong>field collection</strong> and <strong>video</strong> modules, which were not upgraded. This is where you may want to try running custom scripts or simply re-adding content to your Drupal 9 site.</p>
  </li>
  <li>
    <p><strong>Be ready to build.</strong> After migrating the database, the rest of the migration is often a rebuild. Don’t expect layouts and views to move over, and anticipate rebuilding your theme using Drupal 8 templates and re-adding views and other configurations.</p>
  </li>
</ol>

<p>Thanks for reading, and I hope these tips help you with your Drupal migrations.</p>

  </div><a class="u-url" href="/2021/03/12/drupal-migration-takeaways.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  
  <data class="u-url" href="/"></data>

  <div class="wrapper">

 

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <h2 id="footer-heading">Nevin Katz</h2>
        <h2 id="footer-subheading">Web &amp; App Developer</h2>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/nevkatz"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">nevkatz</span></a></li><li><a href="https://www.linkedin.com/in/nevin-katz-7744244"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">nevin-katz-7744244</span></a></li><li><a href="https://www.twitter.com/nevkatz"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">nevkatz</span></a></li></ul>
<a class="u-email" href="mailto:nevkatz@gmail.com">nevkatz@gmail.com
            </a>
  
      </div>  
    </div>
   

  </div>
   <div id="copyright">
    <p>Copyright &copy; 2021 Nevin Katz. All Rights Reserved.</p>
   </div>

</footer>
<script src="/assets/js/simple-jekyll-search.min.js"></script>
<script src="/assets/js/prism.js"></script>
<script src="/assets/js/script.js"></script>



</body>

</html>
